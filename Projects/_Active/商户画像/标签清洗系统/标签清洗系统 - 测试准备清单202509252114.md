---
type: daily
date: 2025-09-25
week: 2025-W39
tags: [daily]
---
# 2025-09-25 星期四 Daily

【门店品牌清洗系统 - 测试准备清单】
基于对项目的深入分析，我为您提供完整的测试准备清单：
🎯 一、测试过程中需要的关键输入材料清单
1. 数据源文件（必需）
S1 数据源：竞争重叠基线数据
文件名示例：shyy_is_overlap_20250918.xlsx
必需字段：store_id, is_overlap（或 overlap_flag, competitive_overlap）
用途：提供门店竞争重叠基础信息
S2 数据源：区域品牌数据（主要品牌信息来源）
文件名示例：region_brand_index_20250919.xlsx, region_full_0919.xlsx
必需字段：store_id, 油站名称, brand_name（或 brand_name_region）
可选字段：station_id, date_ob, 服务相关字段等
用途：品牌清洗的主要数据源
S3 数据源：商户标签数据（长表格式）
文件名示例：merchant_tag_seed_long_20250920_180426.xlsx, merchant.xlsx
必需字段：store_id, tag_code, value_text
可选字段：enum_code, date_ob
用途：提供详细的门店标签信息
S4 数据源：扩展标签数据（长表或宽表格式）
根据实际情况可为空
格式要求与S3相同（长表）或与S2相同（宽表）
2. 参考数据文件（必需）
黄金标准样本：golden_standard.xlsx
用途：数据质量验证的基准
格式：包含 store_id, tag_code, enum_code, enum_label, source, verification_date, verifier_id, confidence_level, verification_notes
标签目录：tag_catalog.csv
用途：定义所有支持的标签类型
格式：tag_code, tier1, tier2, tier3, tag_class, owner_biz, owner_data, status, is_p0
标签规范：tag_spec.csv
用途：定义标签的权重、衰减模式、TTL等规范
格式：包含权重配置（w_source_s1-s4）、衰减模式（decay_mode）、TTL（ttl_days）等
标签枚举：tag_enum.csv
用途：定义标签的有效枚举值
格式：标签代码及对应的枚举值定义
停用规则：stop_rule.xlsx
用途：品牌清洗的停用词规则
格式：Excel文件，包含停用词和豁免规则
3. 业务规则配置文件（必需）
品牌清洗规则：brand_cleaning_rules.yaml
停用词配置：stop_words.yaml
清洗配置：cleaning_config.yaml
📋 二、材料格式要求
4. Excel 文件格式要求
文件格式：.xlsx（不支持 .xls）
编码：UTF-8
工作表：使用第一个工作表，或命名为 "Sheet1"
表头：第一行必须是字段名，不能有合并单元格
数据类型：
store_id：字符串类型，不能为空
日期字段：格式为 YYYY-MM-DD 或 YYYY-MM-DD HH:MM:SS
布尔字段：使用 1/0, true/false, 是/否, 有/无
5. CSV 文件格式要求
编码：UTF-8（带 BOM 或不带 BOM 均可）
分隔符：逗号 ,
引号：字段包含逗号时使用双引号包围
换行符：支持 \n 或 \r\n
6. 数据质量要求
完整性：必需字段不能为空
唯一性：store_id 在同一数据源中应唯一
一致性：同一门店在不同数据源中的 store_id 必须一致
时效性：数据观测时间不应超过配置的 TTL
📁 三、材料存放位置要求
7. 生产环境数据存放
8. 测试环境数据存放
9. 参考数据存放
⚙️ 四、其他需要配置的内容
10. 环境参数配置
批次ID格式：YYYYMMDD_HHMM（如：20250923_1430）
环境选择：prod（生产）或 test（测试）
输出目录权限：确保有写入权限
11. 系统依赖检查
Python 版本：3.7+
必需包：参考 requirements.txt
pandas >= 1.3.0
numpy >= 1.21.0
openpyxl >= 3.0.0
pyyaml >= 5.4.0
psutil >= 5.8.0
12. 权限和安全
文件读取权限：确保数据源文件可读
目录写入权限：确保输出目录可写
敏感信息检查：数据中不应包含明文密码等敏感信息
13. 测试执行参数
内存要求：建议至少 2GB 可用内存
磁盘空间：建议至少 1GB 可用空间
网络要求：无特殊网络要求（本地处理）
🚀 五、测试启动命令
快速测试
Python API 测试
📊 六、预期测试输出
测试完成后将生成以下文件：
RAW1层：{batch_id}_RAW1.xlsx, {batch_id}_RAW1_clean.xlsx
RAW2层：{batch_id}_RAW2.xlsx
TALL层：{batch_id}_TALL.xlsx
HOT层：{batch_id}_HOT.xlsx
测试报告：JSON和Excel格式的详细报告
日志文件：完整的处理日志和性能指标