**治理三件套**：`tag_catalog.csv → tag_spec.csv → tag_enum.csv（如是枚举）`


##  1) tag\_catalog.csv（标签目录）
**作用**：注册标签清单和归属，是所有下游的外键基准。

**列 & 释义**

- `tag_code`：标签英文码（全局唯一、稳定），如 `brand_display`。
- `tier1/tier2/tier3`：业务层级（中文/英文均可），用于对外展示/检索。
- `tag_class`：A/B 类（可选）——`A`=证据融合类；`B`=契约/算法直算类。
- `owner_biz/owner_data`：业务/数据 owner（人名或组名）。
- `status`：**状态**（见下）。

**状态字典**

- `draft`=草稿；`in_review`=评审中；`released`=**已发布可计算**；`deprecated`=拟下线（仅维护，不新增）；`retired`=已下线（不再产出）。

**示例**

```
tag_code,tier1,tier2,tier3,tag_class,owner_biz,owner_data,status
brand_display,基础合作,品牌结构,外显品牌,A,张三,DE_TBD,released
```

---

## 2) tag\_spec.csv（标签规格/SCD2）

**作用**：定义**类型、口径、回退**，并以版本（SemVer）管理生效区间。

**列 & 释义**

- `tag_code`：对应目录里的 code。
- `spec_version`：规格版本（如 `1.0.0`）。
- `definition`：业务定义/口径说明（中文即可）。
- `value_type`：值类型：`bool|number|enum|id|string`。
- `fallback`：回退值（按类型）：
  - bool：`99`（未知）
  - enum：`other`（或你定义的兜底 code）
  - id/string：`unknown`（建议）
  - number：留空或 `-1`（按口径）
- `effective_from/effective_to`：生效区间（`effective_to` 为空视为当前生效）。
- `approved_by/approved_at`：批准人/时间。

**示例**

```
tag_code,spec_version,definition,value_type,fallback,effective_from,effective_to,approved_by,approved_at
brand_display,1.0.0,对外展示主品牌,enum,other,2025-08-01,,张三,2025-08-01T10:00:00
```

---

## 3) tag\_enum.csv（枚举集）

**作用**：列出某个 `tag_code@spec_version` 的**全部合法取值**；事实层只存 `enum_code`，展示层映射 `enum_label`。

**列 & 释义**

- `tag_code`：标签英文码。
- `spec_version`：与规格版本对齐。
- `enum_code`：**存储值**（如 `KA`、`BRAND_0001`）不含中文。
- `enum_label`：**展示值**（如 `KA`、`中国石化`） 含中文。
- `sort_order`： 优先级取值逻辑,值越大优先级越高。
- `is_default`：是否默认/回退；与 `tag_spec.fallback` 对齐。

brand_aliases	: 映射别名,包含则命中,对应的别名,存在多个值
exclusion_field: 映射别名,包含则排除,对应的别名,存在多个值
brand_category	标签类别
keywords	is_active	标签关键词
match_method	匹配方法(0/1 0-精准匹配/1-非精准匹配 精准匹配定义叫 100% 符合)
match_score_threshold	匹配的精准度最高 1
white_list	 白名单 0/1 1 表示白名单命中,可以使用,不代表任何阈值的放行
black_list 黑名单,0/1 1 表示命中,命中则丢弃
示例:
brand_name	1.0.0	BRAND_0002	BP	233	FALSE	BP,英国石油,中油BP,碧辟,中油碧辟		石油		1	0	1	1	0


**易错点**：一值一行；**只写 code，不写中文到事实层**。
